{% extends 'adminbase.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mt-2 mb-4">Edit Course: {{ course.title }}</h2>

    <div class="d-flex justify-content-center">
        <form method="POST" enctype="multipart/form-data" class="p-4 border rounded shadow-sm w-75">
            {% csrf_token %}

            <div class="row g-3">  
                <!-- Course Title -->
                <div class="col-md-6 d-flex align-items-center">
                    <label for="{{ form.title.id_for_label }}" class="form-label me-2">Course Title:</label>
                    <div class="flex-grow-1">{{ form.title }}</div>
                </div>

                <!-- Course Duration -->
                <div class="col-md-6 d-flex align-items-center">
                    <label for="{{ form.duration.id_for_label }}" class="form-label me-2">Duration:</label>
                    <div class="flex-grow-1">{{ form.duration }}</div>
                </div>

                <!-- Description (Full Width) -->
                <div class="col-12">
                    <label for="{{ form.description.id_for_label }}" class="form-label">Description:</label>
                    {{ form.description }}
                </div>

                <!-- Course Image Upload -->
                <div class="col-md-6 d-flex align-items-center">
                    <label for="{{ form.image.id_for_label }}" class="form-label me-2">Course Image:</label>
                    <div class="flex-grow-1">{{ form.image }}</div>
                </div>

                <!-- Show Image Name Instead of Image Preview -->
                {% if course.image %}
                <div class="col-md-6 d-flex align-items-center">                    
                    image:<span class="ms-2 text-truncate">{{ course.image.name|cut:"courses/images/" }}</span>
                </div>
                {% endif %}

                <!-- Live Project Checkbox -->
                <div class="col-md-6 d-flex align-items-center">
                    {{ form.live_project }}
                    <label class="form-check-label ms-2" for="{{ form.live_project.id_for_label }}">
                        Includes Live Project
                    </label>
                </div>

                <!-- Training Format -->
                <div class="col-md-6 d-flex align-items-center">
                    <label for="{{ form.training_format.id_for_label }}" class="form-label me-2">Training Format:</label>
                    <div class="flex-grow-1">{{ form.training_format }}</div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-primary w-50">Update Course</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
