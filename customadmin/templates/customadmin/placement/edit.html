{% extends 'adminbase.html' %}

{% block content %}
<div class="container my-5 d-flex justify-content-center">
    <div class="col-md-8 p-4 border rounded shadow-sm bg-white">
        <h2 class="text-center mb-4">Edit Placement: {{ placement.student_name }}</h2>
        
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            
            <!-- Row for Student Name and Company Name -->
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="{{ form.student_name.id_for_label }}" class="form-label">Student Name</label>
                    <input type="text" name="student_name" class="form-control" id="{{ form.student_name.id_for_label }}" value="{{ form.student_name.value }}">
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.company_name.id_for_label }}" class="form-label">Company Name</label>
                    <input type="text" name="company_name" class="form-control" id="{{ form.company_name.id_for_label }}" value="{{ form.company_name.value }}">
                </div>
            </div>

            <!-- Position Field (on its own row) -->
            <div class="form-group mb-3">
                <label for="{{ form.position.id_for_label }}" class="form-label">Position</label>
                <input type="text" name="position" class="form-control" id="{{ form.position.id_for_label }}" value="{{ form.position.value }}">
            </div>

            <!-- Image Field -->
            <div class="form-group mb-3">
                <label for="{{ form.image.id_for_label }}" class="form-label">Student Image</label>
                
                <!-- Show existing image if it exists -->
                {% if placement.image %}
                    <div class="mb-2">
                        <img src="{{ placement.image.url }}" alt="Current Image" class="img-thumbnail" width="150">
                    </div>
                {% endif %}
                
                <!-- File input to select new image -->
                <input type="file" name="image" class="form-control" id="{{ form.image.id_for_label }}">
            </div>
            <div class="d-flex justify-content-center w-100 mt-3">
                <button type="submit" class="btn btn-primary">Update Placement</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
