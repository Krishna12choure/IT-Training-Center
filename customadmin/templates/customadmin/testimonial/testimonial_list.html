{% extends 'adminbase.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-3 text-center">Manage Testimonials</h2>
    
    <a href="{% url 'add_testimonial' %}" class="btn btn-primary mb-3">
        <i class="fas fa-plus-circle" style="margin-right: 8px;"></i> Add Testimonial
    </a>

    <table class="table table-bordered text-center">
        <thead class="thead-dark">
            <tr>
                <th style="width: 70px;">Sr. No</th>
                <th style="width: 170px;">Student Name</th>
                <th>Testimonial</th>
                <th>Rating</th>
                
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for testimonial in testimonials %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ testimonial.student_name }}</td>
                <td>{{ testimonial.testimonial_text|truncatewords:10 }}</td>
                <td>{{ testimonial.rating }}/5</td>
                
                <td>
                    <a href="{% url 'view_testimonial' testimonial.id %}" class="btn btn-info btn-sm">
                        <i class="fas fa-eye" style="margin-right: 8px;"></i>
                    </a>
                    <a href="{% url 'delete_testimonial' testimonial.id %}" class="btn btn-danger btn-sm mt-1" onclick="return confirm('Are you sure you want to delete this testimonial?')">
                        <i class="fas fa-trash-alt" style="margin-right: 8px;"></i> 
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center">No testimonials available.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
